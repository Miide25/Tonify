<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tonify</title>
    <link rel="stylesheet" href="for.css">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet">
</head>
<body>
  <div class="login-wrap">
    <div class="login-html">
      <input id="tab-1" type="radio" name="tab" class="sign-in" checked><label for="tab-1" class="tab">Sign In</label>
      <input id="tab-2" type="radio" name="tab" class="sign-up"><label for="tab-2" class="tab">Sign Up</label>
      <div class="login-form">
        <div class="sign-in-htm">
          <div class="group">
            <label for="username" class="label">Username</label>
            <input id="username" type="text" class="input">
          </div>
          <div class="group">
            <label for="password" class="label">Password</label>
            <input id="password" type="password" class="input" data-type="password">
          </div>
          <div class="group">
            <input id="check" type="checkbox" class="check" checked>
            <label for="check"><span class="icon"></span> Keep me Signed in</label>
          </div>
          <div class="group">
            <input type="submit" class="button" value="Sign In">
          </div>
          <div class="hr"></div>
          <div class="foot-lnk">
            <a href="#forgot">Forgot Password?</a>
          </div>
        </div>
      </div>
        <div class="sign-up-htm">
          <div class="group">
            <label for="username-signup" class="label">Username</label>
            <input id="username-signup" type="text" class="input">
          </div>
          <div class="group">
            <label for="password-signup" class="label">Password</label>
            <input id="password-signup" type="password" class="input" data-type="password">
          </div>
          <div class="group">
            <label for="repeat-password" class="label">Repeat Password</label>
            <input id="repeat-password" type="password" class="input" data-type="password">
          </div>
          <div class="group">
            <label for="email" class="label">Email Address</label>
            <input id="email" type="text" class="input">
          </div>
          <div class="group">
            <input type="submit" class="button" value="Sign Up">
          </div>
          <div class="hr"></div>
          <div class="foot-lnk">
            <label for="tab-1">Already Member?</a>
          </div>
        </div>
      </div>
    </div>
    <!-- Add this div to display the welcome message -->
    <div id="welcomeMessage" class="welcome-message" style="display: flex;"></div>
  </div>
  <script>
    // Get form elements
    const signInForm = document.querySelector('.sign-in-htm');
    const signUpForm = document.querySelector('.sign-up-htm');
    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');
    const usernameSignupInput = document.getElementById('username-signup');
    const passwordSignupInput = document.getElementById('password-signup');
    const repeatPasswordInput = document.getElementById('repeat-password');
    const emailInput = document.getElementById('email');
    const signInButton = signInForm.querySelector('input[type="submit"]');
    const signUpButton = signUpForm.querySelector('input[type="submit"]');

    // Validation and submission logic
    signInButton.addEventListener('click', (e) => {
      e.preventDefault();
      const username = usernameInput.value.trim();
      const password = passwordInput.value.trim();

      if (username && password) {
        // Validate username and password
        const storedUsername = localStorage.getItem('username');
        const storedPassword = localStorage.getItem('password');

        if (username === storedUsername && password === storedPassword) {
          // Display welcome message
          const welcomeMessage = `Welcome, ${username}!`;
          document.getElementById('welcomeMessage').textContent = welcomeMessage;
          document.getElementById('welcomeMessage').style.display = 'block';

          // Redirect to next page after 2 seconds
          setTimeout(() => {
            window.location.href = "index.html";  
          }, 2000);
        } else {
          alert('Incorrect username or password.');
        }
      } else {
        alert('Please fill in all fields.');
      }
    });

    signUpButton.addEventListener('click', (e) => {
      e.preventDefault();
      const username = usernameSignupInput.value.trim();
      const password = passwordSignupInput.value.trim();
      const repeatPassword = repeatPasswordInput.value.trim();
      const email = emailInput.value.trim();

      if (username && password && repeatPassword && email) {
        // Validate password match
        if (password !== repeatPassword) {
          alert('Passwords do not match.');
          return;
        }

        // Store user details in localStorage
        localStorage.setItem('username', username);
        localStorage.setItem('password', password);
        localStorage.setItem('email', email);

        alert('Sign up successful! You can now log in.');
        document.getElementById('tab-1').checked = true;  // Switch to sign in view
      } else {
        alert('Please fill in all fields.');
      }
    });
  </script>
</body>
</html>
